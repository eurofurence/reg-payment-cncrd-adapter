{
  "consumer": {
    "name": "reg_payment_cncrd_adapter"
  },
  "provider": {
    "name": "concardis_api"
  },
  "interactions": [
    {
      "description": "A request to create a payment link",
      "request": {
        "method": "POST",
        "path": "/v1.0/Invoice/",
        "query": "instance=myinstance",
        "headers": {
          "Content-Type": "application/x-www-form-urlencoded"
        },
        "body": "title=Convention+Registration&description=Please+pay+for+your+registration&psp=1&referenceId=220118-150405-000004&concardisOrderId=220118-150405-000004&purpose=EF+2022+REG+000004&amount=10550&vatRate=19.0&currency=EUR&sku=REG2022V01AT000004&preAuthorization=0&reservation=0&fields[email][mandatory]=1&fields[email][defaultValue]=test@example.com&ApiSignature=omitted"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{\n  \"status\": \"success\",\n  \"data\": [\n    {\n      \"id\": 42,\n      \"status\": \"waiting\",\n      \"hash\": \"77871ec636d239b136e4d79d32c376ad\",\n      \"referenceId\": \"220118-150405-000004\",\n      \"link\": \"http://localhost/some/pay/link\",\n      \"invoices\": [],\n      \"concardisOrderId\": \"220118-150405-000004\",\n      \"preAuthorization\": false,\n      \"name\": \"\",\n      \"title\": \"Convention Registration\",\n      \"description\": \"Please pay for your registration\",\n      \"buttonText\": \"\",\n      \"api\": true,\n      \"fields\": {\n        \"header\": {\n          \"active\": true,\n          \"mandatory\": false,\n          \"names\": {\n            \"de\": \"Kontaktdaten\"\n          }\n        }\n      },\n      \"psp\": [],\n      \"pm\": [],\n      \"purpose\": {\n        \"1\": \"EF 2022 REG 000004\"\n      },\n      \"amount\": 10550,\n      \"currency\": \"EUR\",\n      \"vatRate\": \"19.0\",\n      \"sku\": \"REG2022V01AT000004\",\n      \"subscriptionState\": false,\n      \"subscriptionInterval\": \"\",\n      \"subscriptionPeriod\": \"\",\n      \"subscriptionPeriodMinAmount\": \"\",\n      \"subscriptionCancellationInterval\": \"\",\n      \"createdAt\": 1665838673,\n      \"requestId\": 7489378\n    }\n  ]\n}"
      }
    },
    {
      "description": "A request to read the same payment link",
      "request": {
        "method": "GET",
        "path": "/v1.0/Invoice/42/",
        "query": "instance=myinstance",
        "headers": {
          "Content-Type": "application/x-www-form-urlencoded"
        },
        "body": "ApiSignature=omitted"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{\n  \"status\": \"success\",\n  \"data\": [\n    {\n      \"id\": 424242,\n      \"status\": \"confirmed\",\n      \"hash\": \"77871ec636d239b136e4d79d32c376ad\",\n      \"referenceId\": \"220118-150405-000004\",\n      \"link\": \"http://localhost/some/pay/link\",\n      \"invoices\": [\n        {\n          \"number\": \"EF 2022 REG 000004\",\n          \"products\": [\n            {\n              \"name\": \"EF 2022 REG 000004\",\n              \"price\": 10550,\n              \"quantity\": 1,\n              \"sku\": \"REG2022V01AT000004\",\n              \"vatRate\": null\n            }\n          ],\n          \"amount\": 10550,\n          \"discount\": {\n            \"code\": null,\n            \"amount\": 0,\n            \"percentage\": null\n          },\n          \"shippingAmount\": null,\n          \"currency\": \"EUR\",\n          \"test\": 1,\n          \"referenceId\": \"220118-150405-000004\",\n          \"paymentRequestId\": 42,\n          \"paymentLink\": {\n            \"hash\": \"77871ec636d239b136e4d79d32c376ad\",\n            \"referenceId\": \"220118-150405-000004\",\n            \"email\": \"\"\n          },\n          \"transactions\": [\n            {\n              \"id\": 777777,\n              \"uuid\": \"b9bee580\",\n              \"amount\": 10550,\n              \"referenceId\": \"220118-150405-000004\",\n              \"time\": \"2022-10-15 15:50:20\",\n              \"status\": \"confirmed\",\n              \"lang\": \"de\",\n              \"psp\": \"ConCardis_PayEngine_3\",\n              \"pspId\": 29,\n              \"mode\": \"TEST\",\n              \"metadata\": [],\n              \"contact\": {\n                \"id\": 888888,\n                \"uuid\": \"50659dad\",\n                \"title\": \"\",\n                \"firstname\": \"\",\n                \"lastname\": \"\",\n                \"company\": \"\",\n                \"street\": \"\",\n                \"zip\": \"\",\n                \"place\": \"\",\n                \"country\": \"\",\n                \"countryISO\": \"\",\n                \"phone\": \"\",\n                \"email\": \"\",\n                \"date_of_birth\": \"\",\n                \"delivery_title\": \"\",\n                \"delivery_firstname\": \"\",\n                \"delivery_lastname\": \"\",\n                \"delivery_company\": \"\",\n                \"delivery_street\": \"\",\n                \"delivery_zip\": \"\",\n                \"delivery_place\": \"\",\n                \"delivery_country\": \"\",\n                \"delivery_countryISO\": \"\"\n              },\n              \"subscription\": null,\n              \"pageUuid\": null,\n              \"payment\": {\n                \"brand\": \"visa\"\n              }\n            }\n          ],\n          \"custom_fields\": [\n            {\n              \"type\": \"header\",\n              \"name\": \"Kontaktdaten\",\n              \"value\": \"Kontaktdaten\"\n            }\n          ]\n        }\n      ],\n      \"concardisOrderId\": \"220118-150405-000004\",\n      \"preAuthorization\": false,\n      \"name\": \"\",\n      \"title\": \"Convention Registration\",\n      \"description\": \"Please pay for your registration\",\n      \"buttonText\": \"\",\n      \"api\": true,\n      \"fields\": {\n        \"header\": {\n          \"active\": true,\n          \"mandatory\": false,\n          \"names\": {\n            \"de\": \"Kontaktdaten\"\n          }\n        }\n      },\n      \"psp\": [],\n      \"pm\": [],\n      \"purpose\": {\n        \"1\": \"EF 2022 REG 000004\"\n      },\n      \"amount\": 10550,\n      \"currency\": \"EUR\",\n      \"vatRate\": 19.0,\n      \"sku\": \"REG2022V01AT000004\",\n      \"subscriptionState\": false,\n      \"subscriptionInterval\": \"\",\n      \"subscriptionPeriod\": \"\",\n      \"subscriptionPeriodMinAmount\": 0,\n      \"subscriptionCancellationInterval\": \"\",\n      \"createdAt\": 1665838673\n    }\n  ]\n}"
      }
    },
    {
      "description": "A request to delete the same payment link",
      "request": {
        "method": "DELETE",
        "path": "/v1.0/Invoice/42/",
        "query": "instance=myinstance",
        "headers": {
          "Content-Type": "application/x-www-form-urlencoded"
        },
        "body": "ApiSignature=omitted"
      },
      "response": {
        "status": 200,
        "headers": {
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}